checkPath() {
	if [[ "$1" == "$2"* ]]; 
	then
		echo 1
	else
		echo 0
	fi
}

#START magento

alias magsetup='magento setup:upgrade && bin/magento setup:di:compile'
alias magxml='magento dev:urn-catalog:generate .idea/misc.xml'

magperm() {
	sudo find var vendor pub/static pub/media app/etc -type f -exec chmod g+w {} \;
	echo "finished files, starting folders";
	sudo find var vendor pub/static pub/media app/etc -type d -exec chmod g+ws {} \;
	echo "finished folders";
}

magssd() {
	magento s:s:d en_US ${@:+ "$@"} -f
}

magresetall() {
	sudo chown -R www-data:$(whoami) ./
	rm -rf pub/static/frontend/* pub/static/adminhtml/*
	magsetup
	magssd ${@:+ "$@"}
	magento c:f 
	magento ind:rei
	magperm
}

magsql() {
	echo -n "UPDATE customer_entity SET email = concat('jurnas','+',entity_id,'@lumav.com');
UPDATE core_config_data SET value = concat('jurnas@lumav.com') WHERE value LIKE '%@%';
UPDATE sales_shipment_grid SET customer_email = concat('jurnas','+',entity_id,'@lumav.com');
UPDATE sales_order SET customer_email = concat('jurnas','+',entity_id,'@lumav.com');
UPDATE sales_order_grid SET customer_email = concat('jurnas','+',entity_id,'@lumav.com');
UPDATE sales_order_address SET email = concat('jurnas','+',entity_id,'@lumav.com');
UPDATE sales_invoice_grid SET customer_email = concat('jurnas','+',entity_id,'@lumav.com');
UPDATE quote_address SET email = concat('jurnas','+',address_id,'@lumav.com');
UPDATE quote SET customer_email = concat('jurnas','+',entity_id,'@lumav.com');
UPDATE newsletter_subscriber SET subscriber_email = concat('jurnas','+',subscriber_id,'@lumav.com');
UPDATE email_contact SET email = concat('jurnas','+',customer_id,'@lumav.com');" | xclip -i
}
#END magento

char32() {
	cat /dev/urandom | tr -dc "a-zA-Z0-9!@#%^&*b()_+?>~;" | fold -w 32 | head -n 1
}

skipdefiner() {
	echo "sed -i 's/DEFINER=[^*]*\*/\*/g' dump.sql"
}

magcron2() {
	echo "php ./bin/magento cron:run | grep -v \"Ran jobs by schedule\" >> ./var/log/magento.cron.log && php ./bin/magento setup:cron:run >> ./var/log/setup.cron.log && php ./update/cron.php >> ./var/log/update.cron.log"
}

installComposer() {
    homebin="/home/$(whoami)/bin"
    wget "https://getcomposer.org/installer" -O $homebin/composer-setup.php
    php $homebin/composer-setup.php --install-dir=$homebin --filename=composer
    rm $homebin/composer-setup.php
}
